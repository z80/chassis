<html>
<head>
  <link href="styles/bootstrap.min.css" rel="stylesheet"/>
  <script src="scripts/jquery-2.1.4.min.js"></script>
  <script src="scripts/bootstrap.min.js"></script>
</head>

<body>
  <div class="container-fluid">
    <div class="jumbotron" style="text-align: center">
      <h2>Camera capture</h2>
    </div>
    <div class="row">
      <div class="col-sm-2"></div>
      <div class="col-sm-8">
        <div align="center">
          <img src="jpg-image" id="img" class="row-sm-8"/>
        </div>
      </div>
      <div class="col-vs-2"></div>
    </div>
  </div>
  <script>
    var image = new Image();

    function imgNewName()
    {
    var val = Math.random()*(1000.99);
    var res = "jpg-image?d=" + val.toString();
    return res;
    }

    function loadHandler()
    {
    console.log( "load handler" );
    $( "#img" ).attr( "src", image.src );
    image.src = imgNewName();
    }

    function docReady()
    {
    var curName = imgNewName();
    image.onload = loadHandler();
    image.src = curName;
    console.log( "document ready" );
    //setInterval( loadHandler, 1000 );
    }

    $( document ).ready( docReady )

  </script>
</body>

</html>
